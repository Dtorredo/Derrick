{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Admin Page</title>
    <link rel="stylesheet" href="{% static '/css/trainadmin.css' %}">
</head>
<body>

<div>
<h1>All Bookings</h1>
<table class="table">
<tr>
    <th>User</th>
    <th>Schedule</th>
    <th>Number Of Seats</th>
    <th>Total Price</th>
    <th>Booking Date</th>
</tr>
    {% for x in allbookings %}
    <tr>
        <td>{{ x.user }}</td>
        <td>{{ x.schedule }}</td>
        <td>{{ x.number_of_seats }}</td>
        <td>{{ x.total_price }}</td>
        <td>{{ x.booking_date }}</td>
    </tr>
    {% endfor %}
</table>

</div>

 <div>
 <h1>All Schedules</h1>
 <table>
     <tr>
         <th>Train</th>
         <th>Departure Station</th>
         <th>Arrival Station</th>
         <th>Departure Time</th>
         <th>Arrival Time</th>
         <th>Price per Seat</th>
     </tr>
     {% for y in allschedules %}
     <tr>
         <td>{{ y.train }}</td>
         <td>{{ y.departure_station }}</td>
         <td>{{ y.arrival_station }}</td>
         <td>{{ y.departure_time }}</td>
         <td>{{ y.arrival_time }}</td>
         <td>{{ y.price_per_seat }}</td>
     </tr>
     {% endfor %}
 </table>
 </div>

<div>
<h1>All Destinations</h1>
<table>
    <tr>
        <th>Name</th>
        <th>Code</th>
        <th>Description</th>
    </tr>
    {% for d in alldestinations %}
    <tr>
        <td>{{ d.name }}</td>
        <td>{{ d.code }}</td>
        <td>{{ d.description }}</td>
    </tr>
    {% endfor %}
</table>
</div>
<div>
<h1>All Trains</h1>
<table>
    <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Code</th>
        <th>Capacity</th>
        <th>Description</th>
    </tr>
    {% for t in alltrains %}
    <tr>
        <td>{{ t.name }}</td>
        <td><img src="{{ t.image.url }}" alt="Uploaded Image" style="width: 250px;height:100px"></td>
        <td>{{ t.code }}</td>
        <td>{{ t.capacity }}</td>
        <td>{{ t.description }}</td>
    </tr>
    {% endfor %}
</table>
</div>
    <!--Messages Div-->
<div>
<h1>All Messages</h1>
<table>
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Subject</th>
        <th>Message</th>
        <th>Date Sent</th>
    </tr>
    {% for m in allmessages %}
    <tr>
        <td>{{ m.name }}</td>
        <td>{{ m.email }}</td>
        <td>{{ m.subject }}</td>
        <td>{{ m.message }}</td>
        <td>{{ m.date_sent }}</td>
    </tr>
    {% endfor %}
</table>
</div>

<!--Messages Div-->
<div>
    <h1>All Transactions</h1>
    <table>
        <tr>
        <th>Phone Number</th>
        <th>Amount</th>
        <th>Response Code</th>
        <th>Response Description</th>
        <th>Customer Message</th>
        <th>Created At</th>
        <th>Check Transaction</th>
        </tr>

        {% for trans in alltransactions %}
            <tr>
                <td>{{ trans.phone_number }}</td>
                <td>{{ trans.amount }}</td>
                <td>{{ trans.response_code }}</td>
                <td>{{ trans.response_description }}</td>
                <td>{{ trans.customer_message }}</td>
                <td>{{ trans.created_at }}</td>
                <td><a href="{% url 'stkquery' trans.id %}"><button style="background-color: green">Check Transaction</button></a></td>
            </tr>
        {% endfor %}

    </table>
</div>

</body>
</html>